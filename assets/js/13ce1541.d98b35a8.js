"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[8295],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return m}});var o=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=o.createContext({}),p=function(e){var n=o.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=p(e.components);return o.createElement(s.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(t),m=i,f=d["".concat(s,".").concat(m)]||d[m]||c[m]||r;return t?o.createElement(f,a(a({ref:n},u),{},{components:t})):o.createElement(f,a({ref:n},u))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,a=new Array(r);a[0]=d;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,a[1]=l;for(var p=2;p<r;p++)a[p]=t[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},1073:function(e,n,t){t.r(n),t.d(n,{assets:function(){return u},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return c}});var o=t(7462),i=t(3366),r=(t(7294),t(3905)),a=["components"],l={title:"I18n - Using Locale Translations "},s=void 0,p={unversionedId:"Developer/Frontend/i18n",id:"Developer/Frontend/i18n",title:"I18n - Using Locale Translations ",description:"As a developer, i want to develop a module with  multiiple local support for UI",source:"@site/docs/Developer/Frontend/06-i18n.md",sourceDirName:"Developer/Frontend",slug:"/Developer/Frontend/i18n",permalink:"/docs/Developer/Frontend/i18n",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Developer/Frontend/06-i18n.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{title:"I18n - Using Locale Translations "},sidebar:"tutorialSidebar",previous:{title:"Inter Module communication",permalink:"/docs/Developer/Frontend/module-communication"},next:{title:"TODO",permalink:"/docs/Developer/Frontend/todo"}},u={},c=[{value:"I18n Dependencies",id:"i18n-dependencies",level:2},{value:"Initialize i18n in a module",id:"initialize-i18n-in-a-module",level:2},{value:"Using Translations in react components",id:"using-translations-in-react-components",level:2},{value:"Using Translations in Host Applcation",id:"using-translations-in-host-applcation",level:2},{value:"Notes",id:"notes",level:2}],d={toc:c};function m(e){var n=e.components,l=(0,i.Z)(e,a);return(0,r.kt)("wrapper",(0,o.Z)({},d,l,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"As a developer, i want to develop a module with  multiiple local support for UI"),(0,r.kt)("h2",{id:"i18n-dependencies"},"I18n Dependencies"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"i18next")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"i18next-react")," is used to support localiation"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"@shiksha/common-lib")," provides ",(0,r.kt)("inlineCode",{parentName:"p"},"initializeI18n")," to initilize i18n module"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"i18next")," uses ",(0,r.kt)("inlineCode",{parentName:"p"},"i18next-http-backend")," plugin to load translation files."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"i18next")," uses ",(0,r.kt)("inlineCode",{parentName:"p"},"languageDetector")," (refer ",(0,r.kt)("inlineCode",{parentName:"p"},"i18n.ts")," in ",(0,r.kt)("inlineCode",{parentName:"p"},"common-lb"),") to detect\nselected language. It uses value of ",(0,r.kt)("inlineCode",{parentName:"p"},"localStorage"),"'s ",(0,r.kt)("inlineCode",{parentName:"p"},"lang")," key"),(0,r.kt)("h2",{id:"initialize-i18n-in-a-module"},"Initialize i18n in a module"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Locale files are t be created in ",(0,r.kt)("inlineCode",{parentName:"li"},"[module]/public/locales/")," folder."),(0,r.kt)("li",{parentName:"ul"},"a flder for each supported languages are to be created.\ne.g. for english and hindi there should be below two folders")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[module]/public/locales/en \n[module]/public/locales/hi\n\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Translation file with name ",(0,r.kt)("inlineCode",{parentName:"li"},"[modulename].json")," is created under lanfugage folder with translations for keys required for the module.")),(0,r.kt)("p",null,(0,r.kt)("img",{loading:"lazy",alt:"Translation Files",src:t(7499).Z,width:"702",height:"910"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"App.js")," initilizes i18n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"...\n// e.g. in core module's app js we use core translations\ninitializeI18n(['translation','core']);\n...\n")),(0,r.kt)("h2",{id:"using-translations-in-react-components"},"Using Translations in react components"),(0,r.kt)("p",null,"e.g. in MyClasses component"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\\\\ MyClasses.js\nexport default function MyClasses() {\n    const { t } = useTranslation('core');\n    ...\n    return (\n        <Layout\n          _header={{\n            title: t(\"MY_CLASSES\"),\n  \n    ...\n")),(0,r.kt)("h2",{id:"using-translations-in-host-applcation"},"Using Translations in Host Applcation"),(0,r.kt)("p",null,"Once module development is done, we need to copy the trabnslations files from module to hostt application's ",(0,r.kt)("inlineCode",{parentName:"p"},"public/locales")," folder.\n","\\"," TODO: write a script to automate the copy of locales to app's folder.  "),(0,r.kt)("h2",{id:"notes"},"Notes"),(0,r.kt)("p",null,"TODO:\nWe can use central server to provides locale translation files."),(0,r.kt)("p",null,"Module's translation files are pushed to common backend server siimilar way  module's configuration are pushed to server and application loades the locales from server."),(0,r.kt)("p",null,"Alternate approach - implement ",(0,r.kt)("inlineCode",{parentName:"p"},"i18next")," plugin similar to ",(0,r.kt)("inlineCode",{parentName:"p"},"i18next-http-backend"),"  to load translatioin files from remote urls."))}m.isMDXComponent=!0},7499:function(e,n,t){n.Z=t.p+"assets/images/translation-1-6962ebb004922c2f6747ff97ce09251c.png"}}]);